{
  "version": "0.2.0",
  "configurations": [
    // ─── 1. Debug: Core Tests (Debug) ──────────────────────────────────────
    {
      "name": "Debug: Core Tests (Debug)",
      "type": "coreclr",
      "request": "launch",
      "preLaunchTask": "build: Tests (Debug)",
      "program": "${workspaceFolder}/src/MobileNetV3.Tests/bin/Debug/net8.0/MobileNetV3.Tests.dll",
      "args": [],
      "cwd": "${workspaceFolder}/src/MobileNetV3.Tests",
      "console": "integratedTerminal",
      "stopAtEntry": false,
      "justMyCode": false,
      "requireExactSource": false,
      "env": {
        "DOTNET_ENVIRONMENT": "Test",
        "ORT_LOGGING_LEVEL": "VERBOSE"
      },
      "symbolOptions": {
        "searchMicrosoftSymbolServer": true,
        "searchNuGetOrgSymbolServer": true
      }
    },
    // ─── 2. Debug: UI (Debug) ────────────────────────────────────────────────
    {
      "name": "Debug: UI (Debug)",
      "type": "coreclr",
      "request": "launch",
      "preLaunchTask": "build: UI (Debug)",
      "program": "${workspaceFolder}/src/MobileNetV3.UI/bin/Debug/net8.0-windows/MobileNetV3.UI.dll",
      "args": [],
      "cwd": "${workspaceFolder}",
      "console": "integratedTerminal",
      "stopAtEntry": false,
      "justMyCode": false,
      "requireExactSource": false,
      "env": {
        "DOTNET_ENVIRONMENT": "Development",
        "ORT_LOGGING_LEVEL": "WARNING"
      },
      "symbolOptions": {
        "searchMicrosoftSymbolServer": true,
        "searchNuGetOrgSymbolServer": true
      }
    },
    // ─── 3. Запуск дообучения (Release) ─────────────────────────────────────
    {
      "name": "Run: Fine-tuning (Release)",
      "type": "coreclr",
      "request": "launch",
      "preLaunchTask": "build: Training (Release)",
      "program": "${workspaceFolder}/src/MobileNetV3.Training/bin/Release/net8.0/MobileNetV3.Training.dll",
      "args": [],
      "cwd": "${workspaceFolder}",
      "console": "integratedTerminal",
      "stopAtEntry": false,
      "env": {
        "DOTNET_ENVIRONMENT": "Production",
        "ORT_LOGGING_LEVEL": "WARNING"
      }
    },
    // ─── 3. Отладка дообучения (Debug) ──────────────────────────────────────
    {
      "name": "Debug: Fine-tuning (Debug)",
      "type": "coreclr",
      "request": "launch",
      "preLaunchTask": "build: Training (Debug)",
      "program": "${workspaceFolder}/src/MobileNetV3.Training/bin/Debug/net8.0/MobileNetV3.Training.dll",
      "args": [],
      "cwd": "${workspaceFolder}",
      "console": "integratedTerminal",
      "stopAtEntry": false,
      "justMyCode": false,
      "requireExactSource": false,
      "env": {
        "DOTNET_ENVIRONMENT": "Development",
        "ORT_LOGGING_LEVEL": "VERBOSE"
      },
      "symbolOptions": {
        "searchMicrosoftSymbolServer": true,
        "searchNuGetOrgSymbolServer": true
      }
    },
    // ─── 4. Отладка с остановкой на точке входа ──────────────────────────────
    {
      "name": "Debug: Fine-tuning (Stop at Entry)",
      "type": "coreclr",
      "request": "launch",
      "preLaunchTask": "build: Training (Debug)",
      "program": "${workspaceFolder}/src/MobileNetV3.Training/bin/Debug/net8.0/MobileNetV3.Training.dll",
      "args": [],
      "cwd": "${workspaceFolder}",
      "console": "integratedTerminal",
      "stopAtEntry": true,
      "justMyCode": true,
      "env": {
        "DOTNET_ENVIRONMENT": "Development"
      }
    },
    // ─── 5. Запуск всех тестов ───────────────────────────────────────────────
    {
      "name": "Test: Run All Tests",
      "type": "coreclr",
      "request": "launch",
      "preLaunchTask": "build: Tests (Debug)",
      "program": "${workspaceFolder}/src/MobileNetV3.Tests/bin/Debug/net8.0/MobileNetV3.Tests.dll",
      "args": [],
      "cwd": "${workspaceFolder}/src/MobileNetV3.Tests",
      "console": "integratedTerminal",
      "stopAtEntry": false,
      "env": {
        "DOTNET_ENVIRONMENT": "Test"
      }
    },
    // ─── 6. Attach к уже запущенному процессу ────────────────────────────────
    {
      "name": "Debug: Attach to Process",
      "type": "coreclr",
      "request": "attach",
      "processName": "MobileNetV3.Training",
      "justMyCode": false
    }
  ],
  // ─── Составная конфигурация: build + run ────────────────────────────────────
  "compounds": [
    {
      "name": "Compound: Build & Debug Training",
      "configurations": [
        "Debug: Fine-tuning (Debug)"
      ],
      "stopAll": true
    }
  ]
}
